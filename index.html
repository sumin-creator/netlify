<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Voice Conversion Research Platform - Èü≥Â£∞Â§âÊèõÁ†îÁ©∂„Éó„É©„ÉÉ„Éà„Éï„Ç©„Éº„É†</title>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>
        window.MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']],
                displayMath: [['$$', '$$'], ['\\[', '\\]']],
                processEscapes: true,
                processEnvironments: true
            }
        };
    </script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Georgia', 'Times New Roman', serif;
            background: linear-gradient(135deg, #0a0e27 0%, #1a1f3a 50%, #2d3561 100%);
            color: #e0e0e0;
            min-height: 100vh;
            padding: 20px;
            line-height: 1.6;
        }

        .container {
            max-width: 1800px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            color: white;
            margin-bottom: 30px;
            padding: 30px;
            background: rgba(255,255,255,0.05);
            border-radius: 15px;
            backdrop-filter: blur(10px);
        }

        header h1 {
            font-size: 3em;
            margin-bottom: 10px;
            text-shadow: 0 0 20px rgba(100,150,255,0.5);
            font-weight: 700;
            letter-spacing: 2px;
        }

        header .subtitle {
            font-size: 1.3em;
            opacity: 0.9;
            font-style: italic;
        }

        .tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
            background: rgba(255,255,255,0.05);
            padding: 15px;
            border-radius: 10px;
        }

        .tab {
            padding: 15px 30px;
            background: rgba(255,255,255,0.1);
            color: white;
            border: 2px solid transparent;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1.1em;
            font-weight: 600;
            transition: all 0.3s;
            font-family: 'Georgia', serif;
        }

        .tab:hover {
            background: rgba(255,255,255,0.2);
            transform: translateY(-2px);
        }

        .tab.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-color: #fff;
            box-shadow: 0 5px 20px rgba(102,126,234,0.5);
        }

        .tab-content {
            display: none;
            background: rgba(255,255,255,0.95);
            border-radius: 15px;
            padding: 40px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            min-height: 800px;
            color: #1a1a1a;
        }

        .tab-content.active {
            display: block;
        }

        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(500px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }

        .panel {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border-radius: 12px;
            padding: 25px;
            border: 2px solid #dee2e6;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .panel h3 {
            color: #1e3c72;
            margin-bottom: 20px;
            font-size: 1.5em;
            border-bottom: 3px solid #667eea;
            padding-bottom: 10px;
            font-weight: 700;
        }

        .math-section {
            background: #1a1a1a;
            color: #e0e0e0;
            padding: 25px;
            border-radius: 10px;
            margin: 20px 0;
            border-left: 5px solid #667eea;
            font-family: 'Courier New', monospace;
        }

        .math-section h4 {
            color: #fff;
            margin-bottom: 15px;
            font-size: 1.3em;
        }

        .formula-display {
            background: #0a0a0a;
            padding: 20px;
            border-radius: 8px;
            margin: 15px 0;
            overflow-x: auto;
            border: 1px solid #333;
        }

        canvas {
            width: 100%;
            height: 350px;
            background: #000;
            border-radius: 8px;
            margin: 15px 0;
            border: 2px solid #667eea;
        }

        .controls {
            display: grid;
            grid-template-columns: 1.5fr 4fr 1fr;
            gap: 15px;
            align-items: center;
            margin: 20px 0;
        }

        label {
            color: #1e3c72;
            font-weight: 700;
            font-size: 1.05em;
        }

        input[type="range"] {
            width: 100%;
            height: 10px;
            background: linear-gradient(to right, #667eea, #764ba2);
            border-radius: 5px;
            outline: none;
        }

        input[type="range"]::-webkit-slider-thumb {
            appearance: none;
            width: 24px;
            height: 24px;
            background: #ff6b6b;
            border-radius: 50%;
            cursor: pointer;
            box-shadow: 0 0 15px rgba(255,107,107,0.6);
        }

        .value-display {
            color: #1e3c72;
            font-weight: bold;
            text-align: right;
            font-family: 'Courier New', monospace;
            font-size: 1.1em;
        }

        button {
            padding: 15px 30px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1.1em;
            font-weight: 700;
            transition: all 0.3s;
            margin: 8px;
            box-shadow: 0 5px 15px rgba(102,126,234,0.3);
        }

        button:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(102,126,234,0.5);
        }

        button:active {
            transform: translateY(-1px);
        }

        .btn-danger {
            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a6f 100%);
        }

        .btn-success {
            background: linear-gradient(135deg, #51cf66 0%, #40c057 100%);
        }

        .btn-warning {
            background: linear-gradient(135deg, #ffd43b 0%, #fcc419 100%);
            color: #1a1a1a;
        }

        input[type="text"],
        textarea,
        select {
            width: 100%;
            padding: 12px;
            border: 2px solid #dee2e6;
            border-radius: 8px;
            font-size: 1em;
            margin: 10px 0;
            font-family: inherit;
        }

        textarea {
            min-height: 120px;
            resize: vertical;
        }

        .paper-reference {
            background: linear-gradient(135deg, #fff3cd 0%, #ffeaa7 100%);
            padding: 20px;
            border-radius: 10px;
            border-left: 5px solid #ffc107;
            margin: 25px 0;
            box-shadow: 0 5px 15px rgba(255,193,7,0.2);
        }

        .paper-reference h4 {
            color: #856404;
            margin-bottom: 10px;
            font-size: 1.4em;
            font-weight: 700;
        }

        .paper-reference p {
            color: #856404;
            font-size: 1em;
            line-height: 1.8;
            margin: 8px 0;
        }

        .paper-reference .citation {
            font-style: italic;
            margin-top: 10px;
            padding-top: 10px;
            border-top: 1px solid #ffc107;
        }

        .info-box {
            background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%);
            padding: 20px;
            border-radius: 10px;
            border-left: 5px solid #2196f3;
            margin: 20px 0;
        }

        .info-box strong {
            color: #1565c0;
            font-size: 1.1em;
        }

        .comparison-panel {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }

        .audio-controls {
            display: flex;
            gap: 15px;
            align-items: center;
            margin: 20px 0;
            flex-wrap: wrap;
        }

        audio {
            flex: 1;
            min-width: 300px;
        }

        .experiment-log {
            background: #f8f9fa;
            border: 2px solid #dee2e6;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            max-height: 300px;
            overflow-y: auto;
        }

        .experiment-log h5 {
            color: #1e3c72;
            margin-bottom: 10px;
            font-size: 1.2em;
        }

        .log-entry {
            padding: 8px;
            margin: 5px 0;
            background: white;
            border-radius: 5px;
            border-left: 3px solid #667eea;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
        }

        .metric-display {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .metric-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(102,126,234,0.3);
        }

        .metric-value {
            font-size: 2.5em;
            font-weight: bold;
            margin: 10px 0;
        }

        .metric-label {
            font-size: 1em;
            opacity: 0.9;
        }

        .status-indicator {
            display: inline-block;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-right: 8px;
        }

        .status-indicator.active {
            background: #51cf66;
            box-shadow: 0 0 10px #51cf66;
            animation: pulse 2s infinite;
        }

        .status-indicator.inactive {
            background: #999;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        .advanced-controls {
            background: #f8f9fa;
            border: 2px solid #dee2e6;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
        }

        .advanced-controls h4 {
            color: #1e3c72;
            margin-bottom: 15px;
            font-size: 1.3em;
        }

        .parameter-group {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin: 15px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üî¨ Voice Conversion Research Platform</h1>
            <div class="subtitle">Èü≥Â£∞Â§âÊèõÁ†îÁ©∂„Éó„É©„ÉÉ„Éà„Éï„Ç©„Éº„É†</div>
            <p style="margin-top: 15px; font-size: 1em; opacity: 0.8; max-width: 800px; margin-left: auto; margin-right: auto;">
                ÊúÄÊñ∞„ÅÆÈü≥Â£∞Â§âÊèõÁ†îÁ©∂ÊâãÊ≥ï„ÇíÂÆüË£Ö„ÉªÂÆüÈ®ì„Åß„Åç„ÇãÁ†îÁ©∂„Éó„É©„ÉÉ„Éà„Éï„Ç©„Éº„É†<br>
                ICASSP / Interspeech / ICML Level Research Implementation
            </p>
        </header>

        <div class="tabs">
            <button class="tab active" onclick="switchTab('cyclegan', this)">CycleGAN-VC</button>
            <button class="tab" onclick="switchTab('stargan', this)">StarGAN-VC</button>
            <button class="tab" onclick="switchTab('autovc', this)">AutoVC</button>
            <button class="tab" onclick="switchTab('vits', this)">VITS</button>
            <button class="tab" onclick="switchTab('wavenet', this)">WaveNet</button>
            <button class="tab" onclick="switchTab('analysis', this)">Spectral Analysis</button>
            <button class="tab" onclick="switchTab('experiments', this)">Experiments</button>
        </div>

        <!-- CycleGAN-VC Tab -->
        <div id="cyclegan" class="tab-content active">
            <div class="paper-reference">
                <h4>üìö CycleGAN-VC: Non-parallel Voice Conversion</h4>
                <p><strong>Authors:</strong> Takuhiro Kaneko, Hirokazu Kameoka, Kou Tanaka, Nobukatsu Hojo</p>
                <p><strong>Conference:</strong> EUSIPCO 2018, ICASSP 2019</p>
                <p class="citation">"CycleGAN-VC: Non-parallel voice conversion using cycle-consistent adversarial networks." 
                <em>2018 26th European Signal Processing Conference (EUSIPCO)</em>. IEEE, 2018.</p>
            </div>

            <div class="math-section">
                <h4>Mathematical Formulation</h4>
                <div class="formula-display">
                    <p><strong>Generator Loss:</strong></p>
                    $$L_{G}(G_{X \to Y}, D_Y, X, Y) = L_{adv}(G_{X \to Y}, D_Y, X, Y) + \lambda_{cyc} L_{cyc}(G_{X \to Y}, G_{Y \to X})$$
                    
                    <p><strong>Adversarial Loss:</strong></p>
                    $$L_{adv}(G, D, X, Y) = \mathbb{E}_{y \sim p_{data}(y)}[\log D_Y(y)] + \mathbb{E}_{x \sim p_{data}(x)}[\log(1 - D_Y(G(x)))]$$
                    
                    <p><strong>Cycle Consistency Loss:</strong></p>
                    $$L_{cyc}(G_{X \to Y}, G_{Y \to X}) = \mathbb{E}_{x \sim p_{data}(x)}[\|G_{Y \to X}(G_{X \to Y}(x)) - x\|_1] + \mathbb{E}_{y \sim p_{data}(y)}[\|G_{X \to Y}(G_{Y \to X}(y)) - y\|_1]$$
                    
                    <p><strong>Identity Mapping Loss:</strong></p>
                    $$L_{id}(G_{X \to Y}, G_{Y \to X}) = \mathbb{E}_{y \sim p_{data}(y)}[\|G_{X \to Y}(y) - y\|_1] + \mathbb{E}_{x \sim p_{data}(x)}[\|G_{Y \to X}(x) - x\|_1]$$
                </div>
            </div>

            <div class="grid">
                <div class="panel">
                    <h3>üé§ Source Voice Input</h3>
                    <input type="file" id="cyclegan-source" accept="audio/wav,audio/*" onchange="loadCycleGANSource()" style="margin-bottom: 10px;">
                    <div id="cyclegan-source-status" style="margin: 10px 0; padding: 10px; background: #f0f0f0; border-radius: 5px; font-size: 0.9em; min-height: 20px;"></div>
                    <audio id="cyclegan-source-audio" controls style="width: 100%; margin: 15px 0;"></audio>
                    <div class="info-box">
                        <strong>Input:</strong> Source speaker's voice sample (WAVÂΩ¢ÂºèÊé®Â•®)
                    </div>
                </div>

                <div class="panel">
                    <h3>üé≠ Target Voice Reference</h3>
                    <input type="file" id="cyclegan-target" accept="audio/*" onchange="loadCycleGANTarget()">
                    <audio id="cyclegan-target-audio" controls style="width: 100%; margin: 15px 0;"></audio>
                    <div class="info-box">
                        <strong>Reference:</strong> Target speaker's voice sample (for style extraction)
                    </div>
                </div>
            </div>

            <div class="advanced-controls">
                <h4>üîß Advanced Parameters</h4>
                <div class="parameter-group">
                    <div class="controls">
                        <label>Cycle Consistency Weight (Œª_cyc):</label>
                        <input type="range" id="lambda-cyc" min="1" max="20" value="10" step="0.5" oninput="updateCycleGANParams()">
                        <span class="value-display" id="lambda-cyc-value">10.0</span>
                    </div>
                    <div class="controls">
                        <label>Identity Loss Weight (Œª_id):</label>
                        <input type="range" id="lambda-id" min="0" max="10" value="5" step="0.5" oninput="updateCycleGANParams()">
                        <span class="value-display" id="lambda-id-value">5.0</span>
                    </div>
                    <div class="controls">
                        <label>Learning Rate:</label>
                        <input type="range" id="lr-cyclegan" min="0.0001" max="0.01" value="0.0002" step="0.0001" oninput="updateCycleGANParams()">
                        <span class="value-display" id="lr-cyclegan-value">0.0002</span>
                    </div>
                    <div class="controls">
                        <label>Generator Iterations:</label>
                        <input type="range" id="gen-iters" min="1" max="5" value="1" step="1" oninput="updateCycleGANParams()">
                        <span class="value-display" id="gen-iters-value">1</span>
                    </div>
                </div>
            </div>

            <div class="audio-controls">
                <button onclick="convertCycleGAN()" class="btn-success">üîÑ Convert Voice (CycleGAN-VC)</button>
                <button onclick="analyzeCycleGAN()" class="btn-warning">üìä Analyze Conversion</button>
                <button onclick="saveCycleGANExperiment()" class="btn-success">üíæ Save Experiment</button>
            </div>

            <div class="comparison-panel">
                <div class="panel">
                    <h3>üìà Source Mel-Spectrogram</h3>
                    <canvas id="cyclegan-source-spec"></canvas>
                </div>
                <div class="panel">
                    <h3>üìà Converted Mel-Spectrogram</h3>
                    <canvas id="cyclegan-converted-spec"></canvas>
                </div>
            </div>

            <div class="panel">
                <h3>üéµ Converted Voice Output</h3>
                <audio id="cyclegan-output-audio" controls style="width: 100%; margin: 15px 0;"></audio>
                <div class="metric-display">
                    <div class="metric-card">
                        <div class="metric-label">MCD (dB)</div>
                        <div class="metric-value" id="cyclegan-mcd">-</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-label">PESQ</div>
                        <div class="metric-value" id="cyclegan-pesq">-</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-label">STOI</div>
                        <div class="metric-value" id="cyclegan-stoi">-</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- StarGAN-VC Tab -->
        <div id="stargan" class="tab-content">
            <div class="paper-reference">
                <h4>üìö StarGAN-VC: Non-parallel Many-to-many Voice Conversion</h4>
                <p><strong>Authors:</strong> Hirokazu Kameoka, Takuhiro Kaneko, Kou Tanaka, Nobukatsu Hojo</p>
                <p><strong>Conference:</strong> SLT 2018, ICASSP 2019</p>
                <p class="citation">"StarGAN-VC: Non-parallel many-to-many voice conversion using star generative adversarial networks." 
                <em>2018 IEEE Spoken Language Technology Workshop (SLT)</em>. IEEE, 2018.</p>
            </div>

            <div class="math-section">
                <h4>Mathematical Formulation</h4>
                <div class="formula-display">
                    <p><strong>Generator Loss:</strong></p>
                    $$L_G = L_{adv} + \lambda_{cls} L_{cls}^r + \lambda_{cyc} L_{cyc} + \lambda_{id} L_{id}$$
                    
                    <p><strong>Domain Classification Loss:</strong></p>
                    $$L_{cls}^r = \mathbb{E}_{x,c}[-log D_{cls}(c|G(x,c))]$$
                    
                    <p><strong>Cycle Consistency Loss:</strong></p>
                    $$L_{cyc} = \mathbb{E}_{x,c,c'}[\|G(G(x,c),c') - x\|_1]$$
                    
                    <p><strong>Identity Mapping Loss:</strong></p>
                    $$L_{id} = \mathbb{E}_{x,c}[\|G(x,c) - x\|_1]$$
                    
                    <p><strong>Discriminator Loss:</strong></p>
                    $$L_D = -L_{adv} + \lambda_{cls} L_{cls}^f$$
                    
                    <p><strong>Domain Classification Loss (Discriminator):</strong></p>
                    $$L_{cls}^f = \mathbb{E}_{x,c}[-log D_{cls}(c|x)]$$
                </div>
            </div>

            <div class="grid">
                <div class="panel">
                    <h3>üé§ Source Voice</h3>
                    <input type="file" id="stargan-source" accept="audio/*" onchange="loadStarGANSource()">
                    <audio id="stargan-source-audio" controls style="width: 100%; margin: 15px 0;"></audio>
                </div>
                <div class="panel">
                    <h3>üéØ Target Speaker</h3>
                    <select id="stargan-target-speaker" onchange="updateStarGANParams()">
                        <option value="speaker1">Speaker 1</option>
                        <option value="speaker2">Speaker 2</option>
                        <option value="speaker3">Speaker 3</option>
                        <option value="speaker4">Speaker 4</option>
                    </select>
                    <div class="info-box">
                        <strong>Many-to-Many:</strong> Single generator for multiple speaker conversions
                    </div>
                </div>
            </div>

            <div class="advanced-controls">
                <h4>üîß StarGAN-VC Parameters</h4>
                <div class="parameter-group">
                    <div class="controls">
                        <label>Classification Weight (Œª_cls):</label>
                        <input type="range" id="lambda-cls" min="1" max="20" value="10" step="0.5" oninput="updateStarGANParams()">
                        <span class="value-display" id="lambda-cls-value">10.0</span>
                    </div>
                    <div class="controls">
                        <label>Cycle Weight (Œª_cyc):</label>
                        <input type="range" id="lambda-cyc-star" min="1" max="20" value="10" step="0.5" oninput="updateStarGANParams()">
                        <span class="value-display" id="lambda-cyc-star-value">10.0</span>
                    </div>
                    <div class="controls">
                        <label>Identity Weight (Œª_id):</label>
                        <input type="range" id="lambda-id-star" min="0" max="10" value="5" step="0.5" oninput="updateStarGANParams()">
                        <span class="value-display" id="lambda-id-star-value">5.0</span>
                    </div>
                </div>
            </div>

            <div class="audio-controls">
                <button onclick="convertStarGAN()" class="btn-success">üîÑ Convert (StarGAN-VC)</button>
                <button onclick="compareStarGAN()" class="btn-warning">üìä Compare Speakers</button>
            </div>

            <div class="panel">
                <h3>üéµ Converted Voice</h3>
                <audio id="stargan-output-audio" controls style="width: 100%; margin: 15px 0;"></audio>
            </div>
        </div>

        <!-- AutoVC Tab -->
        <div id="autovc" class="tab-content">
            <div class="paper-reference">
                <h4>üìö AutoVC: Zero-Shot Voice Style Transfer</h4>
                <p><strong>Authors:</strong> Kaizhi Qian, Yang Zhang, Shiyu Chang, Mark Hasegawa-Johnson</p>
                <p><strong>Conference:</strong> NeurIPS 2019</p>
                <p class="citation">"AutoVC: Zero-shot voice style transfer with only autoencoder loss." 
                <em>International Conference on Machine Learning</em>. PMLR, 2019.</p>
            </div>

            <div class="math-section">
                <h4>Mathematical Formulation</h4>
                <div class="formula-display">
                    <p><strong>Content Encoder:</strong></p>
                    $$c = E_c(x)$$
                    
                    <p><strong>Speaker Encoder:</strong></p>
                    $$s = E_s(x)$$
                    
                    <p><strong>Decoder:</strong></p>
                    $$\hat{x} = D(c, s)$$
                    
                    <p><strong>Reconstruction Loss:</strong></p>
                    $$L_{recon} = \mathbb{E}_{x \sim p(x)}[\|D(E_c(x), E_s(x)) - x\|_1]$$
                    
                    <p><strong>Content Preservation:</strong></p>
                    $$L_{content} = \mathbb{E}_{x_1,x_2 \sim p(x)}[\|E_c(x_1) - E_c(x_2)\|_2] \text{ if } x_1, x_2 \text{ have same content}$$
                    
                    <p><strong>Speaker Disentanglement:</strong></p>
                    $$L_{disentangle} = \mathbb{E}_{x_1,x_2 \sim p(x)}[\|E_s(x_1) - E_s(x_2)\|_2] \text{ if } x_1, x_2 \text{ have same speaker}$$
                    
                    <p><strong>Zero-Shot Conversion:</strong></p>
                    $$\hat{x}_{conv} = D(E_c(x_{source}), E_s(x_{target}))$$
                </div>
            </div>

            <div class="grid">
                <div class="panel">
                    <h3>üé§ Source Voice</h3>
                    <input type="file" id="autovc-source" accept="audio/*" onchange="loadAutoVCSource()">
                    <audio id="autovc-source-audio" controls style="width: 100%; margin: 15px 0;"></audio>
                </div>
                <div class="panel">
                    <h3>üéØ Target Voice (Reference)</h3>
                    <input type="file" id="autovc-target" accept="audio/*" onchange="loadAutoVCTarget()">
                    <audio id="autovc-target-audio" controls style="width: 100%; margin: 15px 0;"></audio>
                    <div class="info-box">
                        <strong>Zero-Shot:</strong> No training data required for target speaker
                    </div>
                </div>
            </div>

            <div class="advanced-controls">
                <h4>üîß AutoVC Parameters</h4>
                <div class="parameter-group">
                    <div class="controls">
                        <label>Content Dimension:</label>
                        <input type="range" id="content-dim" min="16" max="256" value="128" step="16" oninput="updateAutoVCParams()">
                        <span class="value-display" id="content-dim-value">128</span>
                    </div>
                    <div class="controls">
                        <label>Speaker Embedding Dim:</label>
                        <input type="range" id="speaker-dim" min="16" max="256" value="64" step="16" oninput="updateAutoVCParams()">
                        <span class="value-display" id="speaker-dim-value">64</span>
                    </div>
                    <div class="controls">
                        <label>Content Weight:</label>
                        <input type="range" id="content-weight" min="0.1" max="2.0" value="1.0" step="0.1" oninput="updateAutoVCParams()">
                        <span class="value-display" id="content-weight-value">1.0</span>
                    </div>
                </div>
            </div>

            <div class="audio-controls">
                <button onclick="convertAutoVC()" class="btn-success">üîÑ Zero-Shot Convert</button>
                <button onclick="analyzeDisentanglement()" class="btn-warning">üìä Analyze Disentanglement</button>
            </div>

            <div class="panel">
                <h3>üéµ Converted Voice</h3>
                <audio id="autovc-output-audio" controls style="width: 100%; margin: 15px 0;"></audio>
                <canvas id="autovc-latent-space" style="height: 300px;"></canvas>
            </div>
        </div>

        <!-- VITS Tab -->
        <div id="vits" class="tab-content">
            <div class="paper-reference">
                <h4>üìö VITS: Conditional Variational Autoencoder with Adversarial Learning</h4>
                <p><strong>Authors:</strong> Jaehyeon Kim, Jungil Kong, Juhee Son</p>
                <p><strong>Conference:</strong> ICML 2021</p>
                <p class="citation">"VITS: Conditional variational autoencoder with adversarial learning for end-to-end text-to-speech." 
                <em>International Conference on Machine Learning</em>. PMLR, 2021.</p>
            </div>

            <div class="math-section">
                <h4>Mathematical Formulation</h4>
                <div class="formula-display">
                    <p><strong>Variational Inference:</strong></p>
                    $$p(z|x) = \mathcal{N}(\mu_\theta(x), \sigma_\theta^2(x))$$
                    
                    <p><strong>KL Divergence:</strong></p>
                    $$L_{kl} = KL(q_\phi(z|x) \| p(z)) = \mathbb{E}_{q_\phi(z|x)}[\log q_\phi(z|x) - \log p(z)]$$
                    
                    <p><strong>Reconstruction Loss:</strong></p>
                    $$L_{recon} = \mathbb{E}_{q_\phi(z|x)}[\|x - D_\theta(z)\|_1]$$
                    
                    <p><strong>Adversarial Loss:</strong></p>
                    $$L_{adv} = \mathbb{E}_{x \sim p_{data}}[\log D(x)] + \mathbb{E}_{z \sim q_\phi(z|x)}[\log(1 - D(D_\theta(z)))]$$
                    
                    <p><strong>Total Loss:</strong></p>
                    $$L_{total} = L_{recon} + \lambda_{kl} L_{kl} + \lambda_{adv} L_{adv}$$
                    
                    <p><strong>Monotonic Alignment Search:</strong></p>
                    $$A^* = \arg\max_A \sum_{i,j} A_{i,j} \log \mathcal{N}(z_j | \mu_i, \sigma_i^2)$$
                </div>
            </div>

            <div class="grid">
                <div class="panel">
                    <h3>üìù Text Input</h3>
                    <textarea id="vits-text" placeholder="Enter text for synthesis...">Hello, this is a test of VITS voice synthesis.</textarea>
                    <div class="controls">
                        <label>Speaker ID:</label>
                        <input type="range" id="vits-speaker" min="0" max="10" value="0" step="1" oninput="updateVITSParams()">
                        <span class="value-display" id="vits-speaker-value">0</span>
                    </div>
                </div>
                <div class="panel">
                    <h3>üîß VITS Parameters</h3>
                    <div class="controls">
                        <label>KL Weight (Œª_kl):</label>
                        <input type="range" id="lambda-kl" min="0.1" max="2.0" value="1.0" step="0.1" oninput="updateVITSParams()">
                        <span class="value-display" id="lambda-kl-value">1.0</span>
                    </div>
                    <div class="controls">
                        <label>Adversarial Weight (Œª_adv):</label>
                        <input type="range" id="lambda-adv" min="0.1" max="2.0" value="1.0" step="0.1" oninput="updateVITSParams()">
                        <span class="value-display" id="lambda-adv-value">1.0</span>
                    </div>
                    <div class="controls">
                        <label>Noise Scale:</label>
                        <input type="range" id="noise-scale" min="0.1" max="1.0" value="0.667" step="0.01" oninput="updateVITSParams()">
                        <span class="value-display" id="noise-scale-value">0.667</span>
                    </div>
                </div>
            </div>

            <div class="audio-controls">
                <button onclick="synthesizeVITS()" class="btn-success">üéµ Synthesize (VITS)</button>
                <button onclick="visualizeVITS()" class="btn-warning">üìä Visualize Latent Space</button>
            </div>

            <div class="panel">
                <h3>üìà Mel-Spectrogram</h3>
                <canvas id="vits-mel-spec"></canvas>
            </div>
            <div class="panel">
                <h3>üéµ Synthesized Audio</h3>
                <audio id="vits-output-audio" controls style="width: 100%; margin: 15px 0;"></audio>
            </div>
        </div>

        <!-- WaveNet Tab -->
        <div id="wavenet" class="tab-content">
            <div class="paper-reference">
                <h4>üìö WaveNet: A Generative Model for Raw Audio</h4>
                <p><strong>Authors:</strong> Aaron van den Oord, Sander Dieleman, Heiga Zen, et al.</p>
                <p><strong>Conference:</strong> NIPS 2016</p>
                <p class="citation">"WaveNet: A generative model for raw audio." <em>arXiv preprint arXiv:1609.03499</em>, 2016.</p>
            </div>

            <div class="math-section">
                <h4>Mathematical Formulation</h4>
                <div class="formula-display">
                    <p><strong>Dilated Causal Convolution:</strong></p>
                    $$(f *_{d} x)(s) = \sum_{i=0}^{k-1} f(i) \cdot x(s - d \cdot i)$$
                    
                    <p><strong>Gated Activation Unit:</strong></p>
                    $$z = \tanh(W_{f,k} * x) \odot \sigma(W_{g,k} * x)$$
                    
                    <p><strong>Residual Connection:</strong></p>
                    $$h_i = h_{i-1} + z_i$$
                    
                    <p><strong>Skip Connection:</strong></p>
                    $$s = \sum_{i=1}^{L} W_{skip,i} * z_i$$
                    
                    <p><strong>Output Distribution (Œº-law):</strong></p>
                    $$p(x_t | x_{&lt;t}, h) = \text{softmax}(W_{out} \cdot \tanh(W_{skip} \cdot s + W_{res} \cdot h_L))$$
                    
                    <p><strong>Likelihood:</strong></p>
                    $$p(x) = \prod_{t=1}^{T} p(x_t | x_{1}, \ldots, x_{t-1})$$
                </div>
            </div>

            <div class="grid">
                <div class="panel">
                    <h3>üé§ Conditional Input</h3>
                    <input type="file" id="wavenet-input" accept="audio/*" onchange="loadWaveNetInput()">
                    <audio id="wavenet-input-audio" controls style="width: 100%; margin: 15px 0;"></audio>
                </div>
                <div class="panel">
                    <h3>üîß WaveNet Architecture</h3>
                    <div class="controls">
                        <label>Dilation Rates:</label>
                        <input type="text" id="dilation-rates" value="1,2,4,8,16,32,64,128,256,512" onchange="updateWaveNetParams()">
                    </div>
                    <div class="controls">
                        <label>Residual Channels:</label>
                        <input type="range" id="res-channels" min="32" max="512" value="256" step="32" oninput="updateWaveNetParams()">
                        <span class="value-display" id="res-channels-value">256</span>
                    </div>
                    <div class="controls">
                        <label>Skip Channels:</label>
                        <input type="range" id="skip-channels" min="32" max="512" value="256" step="32" oninput="updateWaveNetParams()">
                        <span class="value-display" id="skip-channels-value">256</span>
                    </div>
                </div>
            </div>

            <div class="audio-controls">
                <button onclick="generateWaveNet()" class="btn-success">üéµ Generate Audio</button>
                <button onclick="visualizeWaveNet()" class="btn-warning">üìä Visualize Architecture</button>
            </div>

            <div class="panel">
                <h3>üìà Generated Waveform</h3>
                <canvas id="wavenet-waveform"></canvas>
            </div>
            <div class="panel">
                <h3>üéµ Generated Audio</h3>
                <audio id="wavenet-output-audio" controls style="width: 100%; margin: 15px 0;"></audio>
            </div>
        </div>

        <!-- Spectral Analysis Tab -->
        <div id="analysis" class="tab-content">
            <div class="math-section">
                <h4>Advanced Spectral Analysis</h4>
                <div class="formula-display">
                    <p><strong>Short-Time Fourier Transform (STFT):</strong></p>
                    $$X(m,k) = \sum_{n=0}^{N-1} x(n+mH)w(n)e^{-j2\pi kn/N}$$
                    
                    <p><strong>Mel-Scale Transformation:</strong></p>
                    $$m = 2595 \log_{10}(1 + f/700)$$
                    
                    <p><strong>Linear Predictive Coding (LPC):</strong></p>
                    $$x(n) = \sum_{i=1}^{p} a_i x(n-i) + e(n)$$
                    
                    <p><strong>LPC Coefficients:</strong></p>
                    $$A(z) = 1 - \sum_{i=1}^{p} a_i z^{-i}$$
                    
                    <p><strong>Cepstral Analysis:</strong></p>
                    $$c(n) = \frac{1}{2\pi} \int_{-\pi}^{\pi} \log|X(e^{j\omega})| e^{j\omega n} d\omega$$
                    
                    <p><strong>MFCC:</strong></p>
                    $$MFCC_i = \sum_{j=1}^{M} m_j \cos\left(\frac{\pi i}{M}(j-0.5)\right)$$
                </div>
            </div>

            <div class="grid">
                <div class="panel">
                    <h3>üé§ Audio Input</h3>
                    <input type="file" id="analysis-input" accept="audio/*" onchange="loadAnalysisInput()">
                    <audio id="analysis-input-audio" controls style="width: 100%; margin: 15px 0;"></audio>
                </div>
                <div class="panel">
                    <h3>üîß Analysis Parameters</h3>
                    <div class="controls">
                        <label>FFT Size:</label>
                        <select id="analysis-fft-size" onchange="updateAnalysis()">
                            <option value="512">512</option>
                            <option value="1024" selected>1024</option>
                            <option value="2048">2048</option>
                            <option value="4096">4096</option>
                        </select>
                    </div>
                    <div class="controls">
                        <label>Window Function:</label>
                        <select id="analysis-window" onchange="updateAnalysis()">
                            <option value="hamming" selected>Hamming</option>
                            <option value="hanning">Hanning</option>
                            <option value="blackman">Blackman</option>
                            <option value="kaiser">Kaiser</option>
                        </select>
                    </div>
                    <div class="controls">
                        <label>LPC Order:</label>
                        <input type="range" id="lpc-order" min="8" max="32" value="16" step="1" oninput="updateAnalysis()">
                        <span class="value-display" id="lpc-order-value">16</span>
                    </div>
                </div>
            </div>

            <div class="audio-controls">
                <button onclick="performAnalysis()" class="btn-success">üìä Perform Analysis</button>
                <button onclick="extractMFCC()" class="btn-warning">üéØ Extract MFCC</button>
            </div>

            <div class="grid">
                <div class="panel">
                    <h3>üåà Spectrogram</h3>
                    <canvas id="analysis-spectrogram"></canvas>
                </div>
                <div class="panel">
                    <h3>üìä LPC Spectrum</h3>
                    <canvas id="analysis-lpc"></canvas>
                </div>
                <div class="panel">
                    <h3>üéØ MFCC Features</h3>
                    <canvas id="analysis-mfcc"></canvas>
                </div>
            </div>
        </div>

        <!-- Experiments Tab -->
        <div id="experiments" class="tab-content">
            <div class="panel">
                <h3>üìã Experiment Log</h3>
                <div class="experiment-log" id="experiment-log">
                    <h5>Recent Experiments</h5>
                    <div class="log-entry">No experiments yet. Start converting voices to log experiments.</div>
                </div>
                <div class="audio-controls">
                    <button onclick="clearExperiments()" class="btn-danger">üóëÔ∏è Clear Log</button>
                    <button onclick="exportExperiments()" class="btn-success">üíæ Export Results</button>
                    <button onclick="compareExperiments()" class="btn-warning">üìä Compare Methods</button>
                </div>
            </div>

            <div class="panel">
                <h3>üìà Performance Metrics Comparison</h3>
                <canvas id="metrics-comparison" style="height: 400px;"></canvas>
            </div>
        </div>
    </div>

    <!-- research_advanced.js„ÅÆ„Åø„ÇíË™≠„ÅøËæº„ÇÄÔºà„É°„Ç§„É≥ÂÆüË£ÖÔºâ -->
    <script src="research_advanced.js"></script>
    <script>
        // Ë™≠„ÅøËæº„ÅøÁ¢∫Ë™ç
        console.log('‚úì research_advanced.js loaded');
        console.log('Functions available:', {
            switchTab: typeof switchTab !== 'undefined',
            loadCycleGANSource: typeof loadCycleGANSource !== 'undefined',
            convertCycleGAN: typeof convertCycleGAN !== 'undefined',
            initAudioContext: typeof initAudioContext !== 'undefined'
        });
    </script>
</body>
</html>
